@using ABCo.Multicam.UI.ViewModels.Features;
@using ABCo.Multicam.UI.ViewModels.Features.Switcher;
@inherits VMBoundComponent<SwitcherFeatureVM>

<div class="top">
	<FeatureTitle VM="@OuterVM" />
	<p class="linkText">@VM.StatusText</p>

	@if (VM.IsConnectButtonVisible)
	{
		<a class="connectBtn hyperlink" @onclick=VM.ToggleConnection>@VM.ConnectionButtonText</a>
	}
</div>

<ul class="mixBlocks">
	@foreach (var mixBlock in VM.MixBlocks!)
	{
		<li>
			<SwitcherMixBlock VM="(SwitcherMixBlockVM)mixBlock" />
		</li>
	}
</ul>

@code {
	[Parameter]
	public IFeatureVM OuterVM { get; set; } = null!;
}